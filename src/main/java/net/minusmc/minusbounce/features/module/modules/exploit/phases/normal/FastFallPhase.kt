package net.minusmc.minusbounce.features.module.modules.exploit.phases.normal

import net.minusmc.minusbounce.event.BlockBBEvent
import net.minusmc.minusbounce.features.module.modules.exploit.phases.PhaseMode
import net.minusmc.minusbounce.utils.block.BlockUtils
import net.minecraft.block.Block
import net.minecraft.block.BlockAir

class FastFallPhase : PhaseMode("FastFall") {
    override fun onUpdate() {
        mc.thePlayer.noClip = true
        mc.thePlayer.motionY -= 10.0
        mc.thePlayer.setPositionAndUpdate(mc.thePlayer.posX, mc.thePlayer.posY - 0.5, mc.thePlayer.posZ)
        mc.thePlayer.onGround = BlockUtils.collideBlockIntersects(mc.thePlayer.entityBoundingBox) { block: Block? -> block !is BlockAir }
    }
    override fun onBlockBB(event: BlockBBEvent) {}
}
